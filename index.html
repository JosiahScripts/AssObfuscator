<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Neon Lua Obfuscator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --bg: #0d0d0d;
      --card-bg: #1a1a1a;
      --neon-pink: #ff007f;
      --neon-cyan: #00ffff;
      --text: #e0e0e0;
      --shadow-pink: rgba(255, 0, 127, 0.6);
      --shadow-cyan: rgba(0, 255, 255, 0.6);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      background-color: var(--bg);
      color: var(--text);
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      padding: 20px;
    }
    .container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      width: 100%;
      max-width: 600px;
    }
    .card {
      background: var(--card-bg);
      border-radius: 10px;
      padding: 20px;
      box-shadow:
        0 0 10px var(--shadow-cyan),
        0 0 20px var(--shadow-pink);
    }
    h1 {
      font-size: 1.8rem;
      text-align: center;
      color: var(--neon-cyan);
      text-shadow: 0 0 8px var(--shadow-cyan);
      margin-bottom: 10px;
    }
    label {
      display: block;
      margin: 10px 0 5px;
    }
    input[type="file"],
    textarea {
      width: 100%;
      background: #111;
      color: var(--text);
      border: none;
      border-radius: 6px;
      padding: 10px;
      font-family: monospace;
      font-size: 1rem;
      box-shadow: inset 2px 2px 5px #000, inset -2px -2px 5px #222;
    }
    textarea {
      height: 180px;
      resize: vertical;
    }
    .actions {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    button {
      flex: 1 1 auto;
      padding: 12px;
      background: var(--neon-pink);
      color: #000;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      text-transform: uppercase;
      box-shadow: 0 0 8px var(--shadow-pink);
      transition: transform 0.1s;
    }
    button:active {
      transform: translateY(2px);
      box-shadow: 0 0 4px var(--shadow-pink);
    }
    @media (max-width: 480px) {
      h1 { font-size: 1.5rem; }
      button { padding: 10px; font-size: 0.9rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="card">
      <h1>Neon Lua Obfuscator</h1>
      <label for="fileInput">Upload .lua File</label>
      <input type="file" id="fileInput" accept=".lua">
      <label for="input">Or Paste Lua Code</label>
      <textarea id="input" placeholder="Enter or paste Lua code here..."></textarea>
      <div class="actions">
        <button id="obfuscate">Obfuscate Code</button>
      </div>
    </div>
    <div class="card">
      <h1>Obfuscated Output</h1>
      <textarea id="output" readonly placeholder="Your obfuscated code will appear here..."></textarea>
      <div class="actions">
        <button id="copyBtn">Copy</button>
        <button id="downloadBtn">Download .lua</button>
      </div>
    </div>
  </div>

  <script>
    // File upload
    document.getElementById('fileInput').addEventListener('change', e => {
      const f = e.target.files[0];
      if (!f || !f.name.endsWith('.lua')) return alert('Select a .lua file.');
      const r = new FileReader();
      r.onload = evt => document.getElementById('input').value = evt.target.result;
      r.readAsText(f);
    });

    // Obfuscate
    document.getElementById('obfuscate').addEventListener('click', () => {
      const userCode = document.getElementById('input').value;
      if (!userCode.trim()) return alert('Please provide Lua code.');

      const safeCode = userCode.replace(/]]/g, ']].."]]..[[');

      const obf = \`local settings = {
    normalobfus = false,
    hardobfus   = false
}
local a=[[\${safeCode}]]

if settings.normalobfus == false and settings.hardobfus == false then
    print('no option selected, choosing normal mode and obfuscating...')
    a="--// Decompiled Code. \n"..a;
    function Obfuscate(b)
        local c="function IllIlllIllIlllIlllIlllIll(IllIlllIllIllIll) if (IllIlllIllIllIll==(((((919 + 636)-636)*3147)/3147)+919)) then return not true end if (IllIlllIllIllIll==(((((968 + 670)-670)*3315)/3315)+968)) then return not false end end; "
        local d=c; local e=""
        local f={"IllIllIllIllI","IIlllIIlllIIlllIIlllII","IIllllIIllll"}
        local g=[[local IlIlIlIlIlIlIlIlII = {]]
        local h=[[local IllIIllIIllIII = loadstring]]
        local i=[[local IllIIIllIIIIllI = table.concat]]
        for n=1,string.len(b) do e=e.."'\"..string.byte(b,n).."'," end
        local function rnd() return f[math.random(1,#f)] end
        local k="local "..rnd().." = (7*3-9/9+3*2/0+3*3);"
        local l="local "..rnd().." = (3*4-7/7+6*4/3+9*9);"
        local m="--// Protected by Wth1Q\n\n"
        local o="function IllIIIIllIIIIIl("..rnd()..")"
        local p="function "..rnd().."("..rnd()..")"
        local q="local "..rnd().." = (5*3-2/8+9*2/9+8*3)"
        local r="end"
        local s="IllIIIIllIIIIIl(900283)"
        local t="function IllIlllIllIlllIlllIlllIllIlllIIIlll("..rnd()..")"
        local u="local "..rnd().." = (9*0-7/5+3*1/3+8*2)"
        local v="end"
        local w="IllIlllIllIlllIlllIlllIllIlllIIIlll(9083)"
        local x=m..d..k..l..i..";"..o.." "..p.." "..q.." "..r.." "..r.." "..r..";"..s..";"..t.." "..p.." "..u.." "..v.." "..v..";"..w..";"..h..";"..g..e.."}"..
                "IllIIllIIllIII(IllIIIllIIIIllI(IlIlIlIlIlIlIlIlII,IIIIIIIIllllllllIIIIIIII))()"
        print(x)
    end
    do Obfuscate(a) end

elseif settings.normalobfus == true and settings.hardobfus == false then
    print('Normal mode selected, Obfuscating!')
    -- duplicate above or adjust as needed
    do Obfuscate(a) end

elseif settings.normalobfus == false and settings.hardobfus == true then
    print('Hard mode selected, Obfuscating!')
    -- hard variant here
    do Obfuscate(a) end
end\`;

      document.getElementById('output').value = obf;
    });

    // Copy
    document.getElementById('copyBtn').addEventListener('click', () => {
      const out = document.getElementById('output');
      if (!out.value) return;
      navigator.clipboard.writeText(out.value)
        .then(() => alert('Copied!'))
        .catch(() => { out.select(); document.execCommand('copy'); alert('Copied!'); });
    });

    // Download
    document.getElementById('downloadBtn').addEventListener('click', () => {
      const text = document.getElementById('output').value;
      if (!text) return;
      const blob = new Blob([text], { type: 'text/plain' });
      const url  = URL.createObjectURL(blob);
      const a    = document.createElement('a');
      a.href     = url;
      a.download = 'obfuscated.lua';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    });
  </script>
</body>
</html>
